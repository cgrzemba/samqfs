." $Revision: 1.20 $
.ds ]W Sun Microsystems
.\" SAM-QFS_notice_begin
.\"
.\" CDDL HEADER START
.\"
.\" The contents of this file are subject to the terms of the
.\" Common Development and Distribution License (the "License").
.\" You may not use this file except in compliance with the License.
.\"
.\" You can obtain a copy of the license at pkg/OPENSOLARIS.LICENSE
.\" or https://illumos.org/license/CDDL.
.\" See the License for the specific language governing permissions
.\" and limitations under the License.
.\"
.\" When distributing Covered Code, include this CDDL HEADER in each
.\" file and include the License file at pkg/OPENSOLARIS.LICENSE.
.\" If applicable, add the following below this CDDL HEADER, with the
.\" fields enclosed by brackets "[]" replaced with your own identifying
.\" information: Portions Copyright [yyyy] [name of copyright owner]
.\"
.\" CDDL HEADER END
.\"
.\" Copyright 2009 Sun Microsystems, Inc.  All rights reserved.
.\" Use is subject to license terms.
.\"
.\" SAM-QFS_notice_end
.na
.nh
.TH unrearch 8  "08 Jan 2003"
.SH NAME
unrearch \- Removes a specification to rearchive a file
.SH SYNOPSIS
\fBunrearch\fR
\%\fB\-c\ \fIcopy_no\fR
\%[\fB\-f\fR]
\%[\fB\-m\ \fImedia_type\fR\ [\%\fB\-v\ \fIvsn\fR]]
\%[\fB\-M\fR]
\%\fIfilename\fR \&. \&. \&.
.PP
\fBunrearch\fR
\%[\fB\-c\ \fIcopy_no\fR]
\%[\fB\-f\fR]
\%\fB\-m\ \fImedia_type\fR\ [\%\fB\-v\ \fIvsn\fR]
\%[\fB\-M\fR]
\%\fIfilename\fR \&. \&. \&.
.PP
\fBunrearch\fR
\%\fB\-c\ \fIcopy_no\fR
\%[\fB\-f\fR]
\%[\fB\-m\ \fImedia_type\fR\ [\%\fB\-v\ \fIvsn\fR]]
\%[\fB\-M\fR]
\%\fB\-r\ \fIdirname\fR
\%[\fIfilename\fR] \&. \&. \&.
.PP
\fBunrearch\fR
\%[\fB\-c\ \fIcopy_no\fR]
\%[\fB\-f\fR]
\%\fB\-m\ \fImedia_type\fR\ [\%\fB\-v\ \fIvsn\fR]
\%[\fB\-M\fR]
\%\fB\-r\ \fIdirname\fR
\%[\fIfilename\fR] \&. \&. \&.
.SH AVAILABILITY
\fBSUNWsamfs\fR
.SH DESCRIPTION
The \fBunrearch\fR command lets you remove a request to rearchive
a file or a directory.
For example, if you have used the \fBrearch\fR(8) command
to request that a file be rearchived, you can use the \fBunrearch\fR
command to clear the bit that the \fBrearch\fR(8) command had set.
The specifications for the archive
copy (\fB\-c\ \fIcopy_no\fR) and/or
the media type and
VSN
.if n .br
(\%\fB\-m\ \fImedia_type\fR \%[\fB\-v\ \fIvsn\fR])
determine which archive copy is affected.
.PP
There are several ways to remove the request to rearchive from
one or more archive entries.  These ways are as follows:
.TP 3
\(bu
By copy number
.TP
\(bu
By copy number, media type, and VSN
.TP
\(bu
By copy number and media type
.TP
\(bu
By media type
.TP
\(bu
By media type and VSN
.SH OPTIONS
This command accepts the following options:
.TP 10
\%\fB\-c\ \fIcopy_no\fR
Removes the rearchive request for \fIcopy_no\fR.
Specify \fB1\fR, \fB2\fR, \fB3\fR, or \fB4\fR for \fIcopy_no\fR.
If one or more \fB\-c\fR options are 
are specified, the command removes the rearchive request from only
those archive copies (copies 1, 2, 3, or 4).
Either a \fB\-c\fR or a \fB\-m\fR option must be specified.
.TP
\%\fB\-f\fR
Suppresses errors.
.TP
\%\fB\-m\ \fImedia_type\fR
Removes rearchive requests from all
archive copies on the specified \fImedia_type\fR.
For the list of possible \fImedia_type\fR specifications, see the
\fBmcf\fR(5) man page.
Either a \%\fB\-c\fR or a \%\fB\-m\fR option must be specified.
If you specify a \%\fB\-m\fR option, you can also specify
a \%\fB\-v\fR option.
.TP
\%\fB\-M\fR
Removes rearchive requests for metadata only.
This includes directories, the segment index,
and removable media files.
Regular files and symbolic links are not unrearchived.
If you are unarchiving a directory, you must specify
the \%\fB-M\fR option.
.TP
\%\fB\-r\ \fIdirname\fR
Recursively removes the rearchive requests for the entries
of \fIdirname\fR and its subdirectories.
Removes the archive requests of files in the directories and
subdirectories.
.TP
\%\fB\-v\ \fIvsn\fR
Removes the rearchive requests for the archive copies on \fIvsn\fR.
For \fIvsn\fR, specify a volume serial name (VSN).
If you specify a \%\fB\-v\fR option, you must also specify
a \%\fB\-m\fR option.
.TP
\fIfilename\fR
Removes the rearchive requests for the specified \fIfilename\fR.
.SH SEE ALSO
\fBmcf\fR(5),
\fBrearch\fR(8).
