'\" t
.\" $Revision: 1.15 $
.ds ]W Sun Microsystems
'\" !tbl | mmdoc
.\" SAM-QFS_notice_begin
.\"
.\" CDDL HEADER START
.\"
.\" The contents of this file are subject to the terms of the
.\" Common Development and Distribution License (the "License").
.\" You may not use this file except in compliance with the License.
.\"
.\" You can obtain a copy of the license at pkg/OPENSOLARIS.LICENSE
.\" or http://www.opensolaris.org/os/licensing.
.\" See the License for the specific language governing permissions
.\" and limitations under the License.
.\"
.\" When distributing Covered Code, include this CDDL HEADER in each
.\" file and include the License file at pkg/OPENSOLARIS.LICENSE.
.\" If applicable, add the following below this CDDL HEADER, with the
.\" fields enclosed by brackets "[]" replaced with your own identifying
.\" information: Portions Copyright [yyyy] [name of copyright owner]
.\"
.\" CDDL HEADER END
.\"
.\" Copyright 2009 Sun Microsystems, Inc.  All rights reserved.
.\" Use is subject to license terms.
.\"
.\" SAM-QFS_notice_end
.TH itemize 8 "07 Jan 2009"
.SH NAME
itemize \- Catalog optical disk or jukebox 
.SH SYNOPSIS
.B /opt/SUNWsamfs/sbin/itemize
[
.BR \-file " | " f
.I identifier
] [
.BR \-owner " | " u
.I owner
]
[
.BR \-group " | "g
.I group
] [
.B \-2
]
.I device
.SH AVAILABILITY
.LP
SUNWsamfs
.SH DESCRIPTION
.B itemize
generates a list of files on a specific optical disk
or
generates a catalog listing of disks or tapes for a robot,
as specified by 
.I device.
.I device 
is the device name or equipment number defined in the
.B mcf
file.
.LP
If
.I device
is an optical disk, 
.B itemize
generates a list of the files cataloged on the given optical disk.  The
list is generated by scanning the PTOC (partition table of contents) on
the given disk.  The options (see OPTIONS) apply only when using 
.B itemize
on an optical disk.
The following information is returned when itemizing an optical disk:
.br
.PP
.LP
.in +.25i
.nf
.TS
tab (/) ;
l l l l l.
.vs -4
.ft 2
file ID/version/length/uid/gid
.vs +4
.TE
.fi
.in -.25i
.LP
These fields contain the following information:
.TP 10
.I file ID
The name of the file.
.TP
.I version
The version of the file.
.TP
.I length
The size of the file in bytes.
.TP
.I uid
The users ID of the file.
.TP
.I gid
The group ID of the file.
.LP
If
.I device
is a robot,
.B itemize
generates a list of optical disks or tapes that are cataloged in
that robot.  The following information is returned.
.br
.PP
.LP
.in +.25i
.nf
.TS
tab (/) ;
l l l l l l.
.vs -4
.ft 2
EA/access_time/count/use/ty/vsn
.vs +4
.TE
.fi
.in -.25i
.LP
Where
.I EA
is the element address within the catalog,
.I access_time
is the last time this element address was accessed,
.I count
is the number of accesses,
.I use
is the percentage of the media already used,
.I ty
is the media type, and
.I vsn
is the volume serial name of the media.  A 
.I vsn
of
.B nolabel
indicates that media has been assigned to this element address but has not
yet been labeled.
.LP
When itemizing a robot, a status may also be returned.  This information
follows the
.I vsn
field.
The following messages may be listed.
.TP 10
VSN MISSING
A medium has been assigned to this element address, the status of the element address is labeled,
and the VSN is null.
.TP
SLOT VACANT
A medium has been assigned to this element address, the element address is physically empty,
and the VSN is null.
.TP
NEEDS AUDIT
The status of the element address has the needs audit flag set.
.TP
MEDIA ERROR
A read or write or positioning error was detected.
.SH OPTIONS
The following options apply only when itemizing an optical disk:
.TP
.BR \-file " | " "f \fIidentifier\fP"
Lists only files with the specified file 
.IR identifier .
.TP
.BR \-owner " | " "u \fIowner\fP
Lists only files with the specified
.IR owner .
.TP
.BR \-group " | " "g \fIgroup\fP
Lists only files with the specified
.IR group .
.TP
.B \-2
Displays two lines per file, which makes more readable output for terminals. 
.SH EXAMPLES
The following example lists a catalog for an optical library with a device number
of 50:
.LP
.RS
.nf
.ft CO
server# \fBitemize 50\fR
Robot VSN catalog: eq: 50   count: 476
EA      access_time  count  use  ty vsn
   0    Jan 22 15:57   117  76%  mo OPT000  SLOT VACANT
   1    Jan 22 17:17    86  76%  mo OPT001  SLOT VACANT
   2    Jan 22 15:57    55  76%  mo OPT002
   3    Jan 22 16:13    72  76%  mo OPT003
   4    Jan 22 16:29   807  76%  mo OPT004
   5    Jan 22 16:45    27  76%  mo OPT005
   6    Jan 22 17:01    44  76%  mo OPT006
   7    Jan 22 15:14    36   0%  mo OPT007
   8    Jan 22 15:14    43   0%  mo OPT008
   9    Jan 22 15:15    30   0%  mo OPT009
  10    Jan 22 13:32    45  99%  mo OPT010
  11    Jan 22 15:47    35  99%  mo OPT011
  12    Jan 22 15:49    43  99%  mo OPT012
  13    Jan 22 15:53    31  84%  mo OPT013
  14    Jan 22 09:44    30   0%  mo OPT014
  15    Jan 22 09:45    52   0%  mo OPT015
  16    Jan 22 15:57  2163  99%  mo OPT016
  17    Jan 22 12:29  1618   0%  mo OPT017
.fi
.ft
.RE
.LP
 This example shows an itemize listing from an optical disk:
.LP
.RS
.nf
.ft CO
  server# \fBitemize 20\fR
  some.1      15       2048 sam_archive  sam_archive
  samfs1.1    67       5120 sam_archive  sam_archive
  some.1      14       1024 sam_archive  sam_archive
  samfs1.1    66       5120 sam_archive  sam_archive
  samfs1.1    65       5120 sam_archive  sam_archive
  samfs1.1    64       5120 sam_archive  sam_archive
     .
     . 
     . 
.fi
.ft
.RE
.LP
